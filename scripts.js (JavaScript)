function handleFileSelect(event) {
    const file = event.target.files[0];
    const fileInfoDiv = document.getElementById('file-info');
    const mediaContainer = document.getElementById('media-container');
    
    if (file) {
        fileInfoDiv.textContent = `Selected file: ${file.name}`;
        let extension = file.name.split('.').pop().toLowerCase();
        
        // Clear previous media
        mediaContainer.innerHTML = '';
        
        if (['mp3', 'wav', 'ogg'].includes(extension)) {
            // Create an audio player
            const mediaElement = document.createElement('audio');
            mediaElement.controls = true;
            mediaElement.src = URL.createObjectURL(file);
            mediaContainer.appendChild(mediaElement);
        } else if (['mp4', 'webm', 'avi'].includes(extension)) {
            // Create a video player
            const mediaElement = document.createElement('video');
            mediaElement.controls = true;
            mediaElement.src = URL.createObjectURL(file);
            mediaContainer.appendChild(mediaElement);
        } else {
            fileInfoDiv.textContent = "Unsupported file type!";
        }
    }
}

let wavesurfer;

function handleFileSelect(event) {
    const file = event.target.files[0];
    const fileInfoDiv = document.getElementById('file-info');
    const mediaContainer = document.getElementById('media-container');
    
    if (file) {
        fileInfoDiv.textContent = `Selected file: ${file.name}`;
        let extension = file.name.split('.').pop().toLowerCase();
        
        mediaContainer.innerHTML = ''; // Rensa tidigare media
        
        if (['mp3', 'wav', 'ogg'].includes(extension)) {
            // Skapa ett ljud-element
            const mediaElement = document.createElement('audio');
            mediaElement.src = URL.createObjectURL(file);
            mediaElement.controls = true;
            mediaContainer.appendChild(mediaElement);

            // Skapa en Wavesurfer-instans för att visualisera ljudvågorna
            wavesurfer = WaveSurfer.create({
                container: '#wavesurfer',
                waveColor: '#ff6347',
                progressColor: '#f00',
                mediaElement: mediaElement
            });
            
            // Ladda ljudfilen i Wavesurfer
            wavesurfer.load(URL.createObjectURL(file));
        } else if (['mp4', 'webm', 'avi'].includes(extension)) {
            const mediaElement = document.createElement('video');
            mediaElement.src = URL.createObjectURL(file);
            mediaElement.controls = true;
            mediaContainer.appendChild(mediaElement);
        } else {
            fileInfoDiv.textContent = "Unsupported file type!";
        }
    }
}
var wavesurfer = WaveSurfer.create({
  container: '#waveform', // Här definierar du vart ljudgrafen ska visas
  waveColor: 'violet',
  progressColor: 'purple',
});

wavesurfer.load('path_to_audio_file.mp3');
function handleFileSelect(event) {
    const file = event.target.files[0];
    const fileInfoDiv = document.getElementById('file-info');
    
    if (file) {
        fileInfoDiv.textContent = `Selected file: ${file.name}`;
        
        // Skapa en URL för den valda filen
        const fileURL = URL.createObjectURL(file);
        
        // Hitta video-elementet och uppdatera src
        const videoPlayer = document.getElementById('video-player');
        const videoSource = videoPlayer.querySelector('source');
        videoSource.src = fileURL; // Sätt den valda filen som src
        
        // Uppdatera video och ladda om den
        videoPlayer.load(); // Detta tvingar webbläsaren att ladda om videon
    }
}
